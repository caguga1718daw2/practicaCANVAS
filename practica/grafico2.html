<!DOCTYPE html>
<html>
	<head>
    <meta charset="utf-8">
		<title>
		</title>
		<body>

			<div class="container">
							<div id="colortable" class="table-editable">
								<table class="colortable">
									<tr>
										<th id="demo" contenteditable="true">Color:</th>
										<th>Color:</th>
										<th>Color:</th>
										<th>Color:</th>
										<th>Tipografia:</th>
									</tr>
									<tr>
										<td id="c1"contenteditable="true">#FF0000</td>
										<td id="c2"contenteditable="true">#FF8000</td>
										<td id="c3"contenteditable="true">#40FF00</td>
										<td id="c4"contenteditable="true">#0040FF</td>
										<td id="T1"contenteditable="true">ARIAL</td>
									</tr>

							</div>
							<p id="exportColor"></p>



                <div class="container">
                        <div id="table" class="table-editable">
                          <table class="table">

                            <tr>
															<th></th>
                              <th id="n1"contenteditable="true" type="text">RRR</th>
                              <th id="n2"contenteditable="true" type="text">RRR</th>
                              <th id="n3"contenteditable="true" type="text">RRR</th>
                              <th id="n4"contenteditable="true" type="text">RRR</th>
                            </tr>
                            <tr>
															<td contenteditable="true">Value</td>
                              <td id="i1"contenteditable="true">0</td>
                              <td id="j1"contenteditable="true">0</td>
                              <td id="a1"contenteditable="true">0</td>
                              <td id="b1"contenteditable="true">0</td>
                            </tr>
                            <tr>
															<td contenteditable="true">Value</td>
                                <td id="i2"contenteditable="true">0</td>
                                <td id="j2"contenteditable="true">0</td>
                                <td id="a2"contenteditable="true">0</td>
                                <td id="b2"contenteditable="true">0</td>
                            </tr>
                            <tr>
															<td contenteditable="true">Value</td>
                                <td id="i3"contenteditable="true">0</td>
                                <td id="j3"contenteditable="true">0</td>
                                <td id="a3"contenteditable="true">0</td>
                                <td id="b3"contenteditable="true">0</td>
                            </tr>
                            <tr>
															<td contenteditable="true">Value</td>
                                <td id="i4"contenteditable="true">0</td>
                                <td id="j4"contenteditable="true">0</td>
                                <td id="a4"contenteditable="true">0</td>
                                <td id="b4"contenteditable="true">0</td>
                            </tr>
                        </div>
                        <button id="export-btn" class="btn btn-primary">Export Data</button>
                        <p id="export"></p>
                        <p id="ee"></p>
                        <p id="a"></p>
                        <canvas width="400" height="300" id="miLienzo">
                            Lo sentimos, tu navegador no soporta canvas
                        </canvas>
                        <canvas width="400" height="300" id="miLienzo2">
                          Lo sentimos, tu navegador no soporta canvas
                      </canvas>
                      </div>
                      <script type="text/javascript">
                        var array = [];
                        var a=1;
                        function data(){
                        array[0]=document.getElementById("demo").innerHTML;
                        array[1]=document.getElementById("i1").innerHTML;
                        array[2]=document.getElementById("j1").innerHTML;
                        array[3]=document.getElementById("a1").innerHTML;
                        array[4]=document.getElementById("b1").innerHTML;
                        array[5]=document.getElementById("i2").innerHTML;
                        array[6]=document.getElementById("j2").innerHTML;
                        array[7]=document.getElementById("a2").innerHTML;
                        array[8]=document.getElementById("b2").innerHTML;
                        array[9]=document.getElementById("i3").innerHTML;
                        array[10]=document.getElementById("j3").innerHTML;
                        array[11]=document.getElementById("a3").innerHTML;
                        array[12]=document.getElementById("b3").innerHTML;
                        array[13]=document.getElementById("i4").innerHTML;
                        array[14]=document.getElementById("j4").innerHTML;
                        array[15]=document.getElementById("a4").innerHTML;
                        array[16]=document.getElementById("b4").innerHTML;

												//Colors per els gr√†fics
												array[17]=document.getElementById("c1").innerHTML;
												array[18]=document.getElementById("c2").innerHTML;
												array[19]=document.getElementById("c3").innerHTML;
												array[20]=document.getElementById("c4").innerHTML;

												//titol de la porcio
												array[21]=document.getElementById("n1").innerHTML;
												array[22]=document.getElementById("n2").innerHTML;
												array[23]=document.getElementById("n3").innerHTML;
												array[24]=document.getElementById("n4").innerHTML;

												//Tipus de tipografia
												array[25]=document.getElementById("T1").innerHTML;


                        document.getElementById("export").innerHTML = array;
                        a=array[1];
                        document.getElementById("ee").innerHTML = parseFloat(array[1]);
                        }
                        var myVar2=setInterval(function(){ carga() }, 1000);
        window.onload=carga;
        function carga(){
            var myVar = setInterval(function(){ data() }, 1000);
            var miLienzo = document.getElementById('miLienzo');
            var lienzo = miLienzo.getContext('2d');
            var img= new Image();
            var a=parseFloat(array[1]);
            var b=parseFloat(array[5]);
            var c=parseFloat(array[9]);
            var d=parseFloat(array[13]);
            var e=parseFloat(array[2]);
            var f=parseFloat(array[6]);
            var g=parseFloat(array[10]);
            var h=parseFloat(array[14]);
            var i=parseFloat(array[3]);
            var j=parseFloat(array[7]);
            var k=parseFloat(array[11]);
            var l=parseFloat(array[15]);
            var m=parseFloat(array[4]);
            var n=parseFloat(array[8]);
            var o=parseFloat(array[12]);
            var p=parseFloat(array[16]);
            var max= Math.max(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p);
            var apos= 250-(a*100/max)*2;
            var bpos= 250-(b*100/max)*2;
            var cpos= 250-(c*100/max)*2;
            var dpos= 250-(d*100/max)*2;
            var epos= 250-(e*100/max)*2;
            var fpos= 250-(f*100/max)*2;
            var gpos= 250-(g*100/max)*2;
            var hpos= 250-(h*100/max)*2;
            var ipos= 250-(i*100/max)*2;
            var jpos= 250-(j*100/max)*2;
            var kpos= 250-(k*100/max)*2;
            var lpos= 250-(l*100/max)*2;
            var mpos= 250-(m*100/max)*2;
            var npos= 250-(n*100/max)*2;
            var opos= 250-(o*100/max)*2;
            var ppos= 250-(p*100/max)*2;
            img.src = 'fondo.jpg';

            img.onload = function(){
                lienzo.drawImage(img,0,0,400,300);
                lienzo.strokeStyle = "black";
                lienzo.fillStyle="black";
                lienzo.beginPath();
                lienzo.lineWidth=3;
                lienzo.moveTo(50,250);
                lienzo.lineTo(350,250);
                lienzo.moveTo(50,50);
                lienzo.lineTo(50,250);
                lienzo.stroke();
                lienzo.strokeStyle = "white";
                lienzo.beginPath();
                lienzo.lineWidth=0.5;
                lienzo.moveTo(50,50);
                lienzo.lineTo(350,50);
                lienzo.fillText(max,25,50);
                lienzo.moveTo(50,100);
                lienzo.lineTo(350,100);
                lienzo.fillText(3*max/4,25,100);
                lienzo.moveTo(50,150);
                lienzo.lineTo(350,150);
                lienzo.fillText(max/2,25,150);
                lienzo.moveTo(50,200);
                lienzo.lineTo(350,200);
                lienzo.fillText(max/4,25,200);
                lienzo.fillText(array[21],50,260);
                lienzo.fillText(array[22],125,260);
                lienzo.fillText(array[23],200,260);
                lienzo.fillText(array[24],275,260);
                lienzo.stroke();
                lienzo.beginPath();
                
                lienzo.moveTo(75,apos);
                lienzo.lineTo(150,bpos);
                lienzo.lineTo(225,cpos);
                lienzo.lineTo(300,dpos);
                lienzo.strokeStyle=(array[17]);
                lienzo.stroke();

                lienzo.beginPath();
                lienzo.moveTo(75,epos);
                lienzo.lineTo(150,fpos);
                lienzo.lineTo(225,gpos);
                lienzo.lineTo(300,hpos);
                lienzo.strokeStyle=(array[18]);
                lienzo.stroke();
               
                lienzo.beginPath();
                lienzo.moveTo(75,ipos);
                lienzo.lineTo(150,jpos);
                lienzo.lineTo(225,kpos);
                lienzo.lineTo(300,lpos);
                lienzo.strokeStyle=(array[19]);
                lienzo.stroke();
                
                lienzo.beginPath();
                lienzo.moveTo(75,mpos);
                lienzo.lineTo(150,npos);
                lienzo.lineTo(225,opos);
                lienzo.lineTo(300,ppos);
                lienzo.strokeStyle=(array[20]);
                lienzo.stroke();

                lienzo.beginPath();
                lienzo.fillStyle = (array[17]);
				lienzo.fillText(array[21],75,20);
                lienzo.stroke();

                lienzo.fillStyle =  (array[18]);
				lienzo.fillText(array[22],150,20);
				lienzo.stroke();

				lienzo.fillStyle =  (array[19]);
				lienzo.fillText(array[23],225,20);
				lienzo.stroke();

                lienzo.fillStyle =  (array[20]);
                lienzo.fillText(array[24],300,20);
                lienzo.stroke();
            }
        }
    </script>
    <body>
        <canvas width="400" height="300" id="miLienzo">
            Lo sentimos, tu navegador no soporta canvas
        </canvas>
    </body>
</html>
